<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Generador Oficio Colaboración Económica</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 flex items-center justify-center min-h-screen">
  <div id="app" class="flex flex-col md:flex-row w-11/12 max-w-4xl bg-white rounded-xl shadow-lg overflow-hidden">
    <!-- Panel de login -->
    <div class="flex-1 flex flex-col items-center justify-center p-8">
      <img src="./assets/images/logo.png" alt="Logo" class="mb-6 w-32 h-auto">

      <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-4 text-center">Iniciar Sesión</h2>
      <p class="text-gray-600 text-center mb-6">Ingrese sus credenciales para acceder al generador de oficios</p>

      <div class="w-full max-w-md">
        <label for="username" class="block font-semibold text-gray-700 mb-2 text-left">Usuario</label>
        <input v-model="username" type="text" id="username" placeholder="Usuario"
          class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500 mb-4">

        <label for="password" class="block font-semibold text-gray-700 mb-2 text-left">Contraseña</label>
        <div class="relative mb-6">
          <input :type="showPassword ? 'text' : 'password'" v-model="password" id="password" placeholder="Contraseña"
            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500">
          <button type="button" @click="showPassword = !showPassword"
            class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800">
            {{ showPassword ? '🙈' : '👁️' }}
          </button>
        </div>

        <button @click="login"
          class="w-full py-3 bg-teal-600 text-white font-bold rounded-lg hover:bg-teal-700 transition">Ingresar</button>

        <div v-if="error" class="mt-4 p-3 bg-red-100 text-red-800 font-semibold rounded-lg text-center">
          Usuario o contraseña incorrectos.
        </div>
      </div>
    </div>

    <!-- Imagen lateral -->
    <div class="hidden md:block md:flex-1">
      <img src="./assets/images/fondo.jpg" alt="Fondo" class="w-full h-full object-cover">
    </div>
  </div>

  <!-- Vue CDN -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
  <script>
    const { createApp, ref } = Vue;

    createApp({
      setup() {
        const username = ref('');
        const password = ref('');
        const showPassword = ref(false);
        const error = ref(false);

        function login() {
          if (username.value === "huacablanca" && password.value === "huacablanca2025") {
            sessionStorage.setItem('loggedIn', 'true');
            // window.location.href = "/src/oficios/oficio-economico.html";
            window.location.href = "/panel.html";
          } else {
            error.value = true;
            setTimeout(() => error.value = false, 4000);
          }
        }

        return { username, password, showPassword, error, login };
      }
    }).mount('#app');
  </script>
</body>

</html>